<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en-US" xml:lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Cider: Canvas Text Editor</title>
        <style>
          @font-face {
            font-family: "ProggyClean";
            src: url(fonts/ProggyClean.ttf);
          }


        </style>
        <script type="text/javascript" src="../carena/lib/carena.js"></script>
        <script type="text/javascript" src="lib/cider.js"></script>


        <script type="text/javascript">
            window.onload = function() {
            var feature = carena.feature,
                renderer = carena.build({}, ["carena.Renderer"], {
                  canvas: document.getElementsByTagName("canvas")[0]
                }),
                camera = carena.build({}, ["carena.Camera", "carena.DragManager"], {
                  renderer: renderer
                }),
                editorWindow = carena.build({
                  text : "Cider .1",
                  x: 0,
                  y: 0,
                  height: 395,
                  width:400,
                  background: '#1A2021'
                }, [
                  "carena.Node",
                  "carena.Draggable",
                  "cider.Textual"
                ]),
                editor = carena.build({
                  text : "Hello World!\nFont: Proggy Clean",
                  x : 10,
                  y : 35,
                  width : 380,
                  height: 171
                },[
                  "carena.Box",
                  "carena.RelativeToParent",
                  "cider.Textual",
                  "cider.Editable",
                  "cider.FocusTarget"
                  //"cider.LineNumbers"
                ]),
                editor2 = carena.build({
                  text : "Hello World!\nFont: Courier New",
                  x : 10,
                  y : 215,
                  width : 380,
                  height: 170
                },[
                  "carena.Box",
                  "carena.RelativeToParent",
                  "cider.Textual",
                  "cider.Editable",
                  "cider.FocusTarget"
                  //"cider.LineNumbers"
                ]),
                lineNumbers = carena.build({},[
                  "cider.LineNumbers",
                  "carena.RelativeToParent"
                ]),
                lineNumbers2 = carena.build({},[
                  "cider.LineNumbers",
                  "carena.RelativeToParent"
                ]),
                scrollBars = carena.build({},[
                  "cider.ScrollBars",
                  "carena.Draggable",
                  "carena.RelativeToParent",
                ]),
                scrollBars2 = carena.build({},[
                  "cider.ScrollBars",
                  "carena.Draggable",
                  "carena.RelativeToParent"
                ]);
                editor.font.set("16px ProggyClean");
                editor2.font.set("12px Courier New");
                scene = window.scene = carena.build({}, [
                  "carena.Node",
                  "carena.Eventable"
                ]);

                scene.add(editorWindow.add(editor.add(lineNumbers).add(scrollBars)));
                          editorWindow.add(editor2.add(lineNumbers2).add(scrollBars2));

                camera.target = scene;
                setTimeout(function render() {
                  camera.render();
                  setTimeout(render, 40);
                }, 0);
            }
        </script>
    </head>
    <body>
    <h1>Cider</h1>
    <p>tiny canvas text editor</p>
    <p>
      <canvas id="canvas" height="600" width="600" tabindex="1" onFocus="">
        body {
	        font-size: small;
	        font-family: sans-serif;
        }

        p {
	        line-height: 0;
        }

        p:first-child {
	        display: inline;
        }

        h1 {
	        display: inline;
        }

        iframe, object {
	        border: 1px black solid;
	        margin: 2px;
        }
      </canvas>
    </body>
</html>
